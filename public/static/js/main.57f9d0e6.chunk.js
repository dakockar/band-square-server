(this["webpackJsonpband-square-client"]=this["webpackJsonpband-square-client"]||[]).push([[0],{111:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(28),r=a.n(s),i=(a(111),a(16)),o=a(40),l=a(73),u=a(8),j=a(9),d=a(11),h=a(10),b=a(72),p=a.n(b),O=a(15),m=(a(141),a(14)),x=a.n(m),f="http://band-square.herokuapp.com",v=a(180),g=a(176),y=a(174),S=a(182),N=a(13),C=a(29),I=a(102),w=a(177),k=a(178),L=a(173),U=a(104),V=a(1);var T=function(e){var t=Object(n.useState)(!1),a=Object(C.a)(t,2),c=a[0],s=a[1];return Object(V.jsxs)("div",{children:[Object(V.jsx)(I.a,{className:"grey-text",variant:"link",onClick:function(){return s(!0)},children:"Sign Up"}),Object(V.jsxs)(w.a,{className:"modal-box",show:c,onHide:function(){return s(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(V.jsx)(w.a.Header,{closeButton:!0,children:Object(V.jsx)(w.a.Title,{children:"Sign Up"})}),Object(V.jsx)(w.a.Body,{children:Object(V.jsxs)(k.a,{onSubmit:e.onSignUp,children:[Object(V.jsxs)(k.a.Group,{controlId:"email",children:[Object(V.jsx)(k.a.Label,{children:"Email address"}),Object(V.jsx)(k.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),Object(V.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(V.jsxs)(k.a.Group,{controlId:"password",children:[Object(V.jsx)(k.a.Label,{children:"Password"}),Object(V.jsx)(k.a.Control,{name:"password",type:"password",placeholder:"Password"})]}),Object(V.jsxs)(k.a.Group,{as:L.a,children:[Object(V.jsx)(k.a.Label,{as:"legend",column:!0,sm:2,children:Object(V.jsx)("span",{children:"Sign me up as:"})}),Object(V.jsxs)(U.a,{sm:10,children:[Object(V.jsx)(k.a.Check,{type:"radio",label:"Musician",name:"type",id:"formHorizontalRadios1",value:"musician"}),Object(V.jsx)(k.a.Check,{type:"radio",label:"Owner",name:"type",id:"formHorizontalRadios2",value:"owner"})]})]}),Object(V.jsx)(I.a,{variant:"dark",type:"submit",children:"Sign Up!"})]})})]})]})};var G=function(e){var t=Object(n.useState)(!1),a=Object(C.a)(t,2),c=a[0],s=a[1],r=function(){return s(!1)};return Object(V.jsxs)("div",{children:[Object(V.jsx)(I.a,{className:"grey-text",variant:"link",onClick:function(){return s(!0)},children:"Sign In"}),Object(V.jsxs)(w.a,{show:c,onHide:r,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(V.jsx)(w.a.Header,{closeButton:!0,children:Object(V.jsx)(w.a.Title,{children:"Sign In"})}),Object(V.jsx)(w.a.Body,{children:Object(V.jsxs)(k.a,{onSubmit:e.onSignIn,children:[Object(V.jsxs)(k.a.Group,{controlId:"email",children:[Object(V.jsx)(k.a.Label,{children:"Email address"}),Object(V.jsx)(k.a.Control,{name:"email",type:"email",placeholder:"Enter email"}),Object(V.jsx)(k.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(V.jsxs)(k.a.Group,{controlId:"password",children:[Object(V.jsx)(k.a.Label,{children:"Password"}),Object(V.jsx)(k.a.Control,{name:"password",type:"password",placeholder:"Password"})]}),Object(V.jsx)(I.a,{variant:"dark",type:"submit",onClick:r,children:"Sign In!"})]})})]})]})},E=a.p+"static/media/bandsquare-logo.6fbee2ec.png";var M=function(e){var t=e.user;return Object(V.jsx)(v.a,{className:"navbar",children:e.user?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(v.a.Brand,{as:N.b,to:"/home",children:Object(V.jsx)("img",{className:"logo",src:E,alt:"logo"})}),Object(V.jsx)(v.a.Toggle,{}),Object(V.jsx)(v.a.Collapse,{className:"justify-content-end",children:Object(V.jsx)(v.a.Text,{children:Object(V.jsxs)(g.a,{as:y.a,alignRight:!0,children:[Object(V.jsx)(g.a.Toggle,{className:"grey-text",as:S.a,children:t.firstName||t.email}),Object(V.jsxs)(g.a.Menu,{className:"dropdown-box",children:[Object(V.jsx)(g.a.Item,{as:N.b,to:"/profile",children:"Profile"}),Object(V.jsx)(g.a.Item,{as:N.b,to:"/chat",children:"Chat"}),Object(V.jsx)(g.a.Divider,{}),Object(V.jsx)(g.a.Item,{onClick:e.onSignOut,children:"Sign Out"})]})]})})})]}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(v.a.Brand,{children:Object(V.jsx)("img",{className:"logo",src:E,alt:"logo"})}),Object(V.jsx)(v.a.Toggle,{}),Object(V.jsxs)(v.a.Collapse,{className:"justify-content-end",children:[Object(V.jsx)(v.a.Text,{children:Object(V.jsx)(G,{onSignIn:e.onSignIn})}),Object(V.jsx)(v.a.Text,{children:Object(V.jsx)(T,{onSignUp:e.onSignUp})})]})]})})};a.p;var _=function(e){return Object(V.jsx)("div",{className:"landing-page",children:Object(V.jsxs)("div",{className:"landing-page-about",children:[Object(V.jsx)("h1",{children:"Band Square"}),"Band square is a unique platform for musicians to connect with each other.",Object(V.jsx)("br",{}),"- Search for bands to join ",Object(V.jsx)("br",{}),"- Search for people to join your band",Object(V.jsx)("br",{}),"- Collaborate with other musicians",Object(V.jsx)("br",{}),"- Book practice rooms",Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),"You have a practice room?",Object(V.jsx)("br",{}),"- List your practice room on the site!"]})})},z=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.user;return e?Object(V.jsxs)("div",{className:"home-page",children:[Object(V.jsx)("div",{children:"Home page"}),"musician"===e.type?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(N.b,{className:"search-link",to:"/search/musicians",children:["looking for ",Object(V.jsx)("br",{})," musicians/bands"]}),Object(V.jsxs)(N.b,{className:"search-link",to:"/search/venues",children:["looking for ",Object(V.jsx)("br",{})," rehearsal rooms/venues"]})]}):Object(V.jsx)("div",{children:"owner's home page"})]}):null}}]),a}(n.Component),D=a(181),B=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(V.jsx)("div",{children:"page not found"})}}]),a}(n.Component),A=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.filteredUsers,n=e.onSearch;return t?"owner"===t.type?Object(V.jsx)(B,{}):Object(V.jsxs)("div",{className:"search-results",children:[Object(V.jsx)("h1",{children:"musician search"}),Object(V.jsx)(k.a,{children:Object(V.jsx)("fieldset",{children:Object(V.jsx)(k.a.Group,{as:L.a,children:Object(V.jsxs)(U.a,{sm:10,children:[Object(V.jsx)(k.a.Check,{type:"radio",label:"I'm looking for musicians",value:"musicianSearch",name:"searchType",id:"musicianSearch",defaultChecked:!0}),Object(V.jsx)(k.a.Check,{type:"radio",label:"I'm looking for bands",value:"bandSearch",name:"searchType",id:"bandSearch"})]})})})}),Object(V.jsx)(k.a.Group,{children:Object(V.jsx)(k.a.Control,{onChange:n,type:"text",name:"instrument",placeholder:"Instrument"})}),Object(V.jsx)(k.a.Group,{children:Object(V.jsx)(k.a.Control,{onChange:n,type:"text",name:"genre",placeholder:"Genre"})}),Object(V.jsx)("h3",{children:"Results:"}),a.map((function(e){return Object(V.jsx)(N.b,{to:"/musician/".concat(e._id),children:Object(V.jsx)(D.a,{className:"card-style",children:Object(V.jsxs)(D.a.Body,{children:[Object(V.jsxs)(D.a.Title,{children:[e.firstName," ",e.lastName]}),Object(V.jsx)(D.a.Text,{children:e.instrument}),Object(V.jsx)(D.a.Text,{children:e.genre})]})})},e._id)}))]}):null}}]),a}(n.Component),P=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.filteredVenues,n=e.onSearch;return t?"owner"===t.type?Object(V.jsx)(B,{}):Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"Venue search"}),Object(V.jsx)("h3",{children:"Search for: "}),Object(V.jsx)(k.a.Group,{children:Object(V.jsx)(k.a.Control,{onChange:n,name:"size",type:"number",placeholder:"Size"})}),Object(V.jsx)(k.a.Group,{children:Object(V.jsx)(k.a.Control,{onChange:n,name:"location",type:"text",placeholder:"Location"})}),Object(V.jsx)(k.a.Group,{children:Object(V.jsx)(k.a.Control,{onChange:n,name:"title",type:"text",placeholder:"Title"})}),Object(V.jsx)("h3",{children:"Results:"}),a.map((function(e){return Object(V.jsx)(N.b,{to:"/venuesDetails/".concat(e._id),children:Object(V.jsxs)("div",{children:[Object(V.jsx)("h4",{children:e.title}),Object(V.jsx)("p",{children:e.size}),Object(V.jsx)("p",{children:e.location})]},e._id)})}))]}):null}}]),a}(n.Component);var F,J=function(e){return Object(V.jsx)("div",{className:"profile-page",children:Object(V.jsxs)(D.a,{className:"card-style",children:[Object(V.jsx)(D.a.Img,{variant:"top",src:e.user.imgUrl}),Object(V.jsx)(D.a.ImgOverlay,{as:N.b,to:"/upload-image",children:"+"}),Object(V.jsxs)(D.a.Body,{children:[Object(V.jsxs)(D.a.Title,{children:[e.user.firstName," ",e.user.lastName]}),Object(V.jsx)(D.a.Subtitle,{className:"mb-2 text-muted",children:e.user.location}),Object(V.jsx)(D.a.Text,{children:e.user.aboutMe}),Object(V.jsx)(D.a.Text,{children:e.user.genre}),Object(V.jsx)(D.a.Text,{children:e.user.instrument}),Object(V.jsx)(D.a.Text,{children:e.user.bandName}),Object(V.jsx)(D.a.Link,{className:"button",as:N.b,to:"/musician-profile/edit",children:"Edit Profile"})]})]})})},q=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={venues:[]},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user;x.a.get("".concat(f,"/api/venues/").concat(t._id)).then((function(t){e.setState({venues:t.data})})).catch((function(e){console.log("error while fetching venues",e)}))}},{key:"render",value:function(){var e=this.props.user,t=this.state.venues;return e?Object(V.jsx)("div",{className:"profile-page",children:Object(V.jsxs)(D.a,{className:"card-style",children:[Object(V.jsx)(D.a.Img,{variant:"top",src:e.imgUrl}),Object(V.jsx)(D.a.ImgOverlay,{as:N.b,to:"/upload-image",children:"+"}),Object(V.jsxs)(D.a.Body,{children:[Object(V.jsxs)(D.a.Title,{children:[e.firstName," ",e.lastName]}),Object(V.jsx)(D.a.Title,{children:"Venues: "}),t.length?Object(V.jsx)(V.Fragment,{children:t.map((function(e){return Object(V.jsx)(D.a.Text,{children:Object(V.jsx)(N.b,{to:"/venue/".concat(e._id),children:e.title})},e._id)}))}):Object(V.jsx)("div",{children:"no venues yet"}),Object(V.jsx)(I.a,{className:"button",as:N.b,to:"/owner-profile/edit",children:"Edit Profile"}),Object(V.jsx)(I.a,{className:"button",as:N.b,to:"/add-venue",children:"Add Venue"})]})]})}):null}}]),a}(n.Component),H=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.user;return e?Object(V.jsx)("div",{children:"musician"===e.type?Object(V.jsx)(J,{user:e}):Object(V.jsx)(q,{user:e})}):null}}]),a}(n.Component),R=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return this.props.user?Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"Edit Musician Profile"}),Object(V.jsxs)(k.a,{onSubmit:this.props.onEdit,children:[Object(V.jsxs)(k.a.Group,{controlId:"firstName",children:[Object(V.jsx)(k.a.Label,{children:"First Name"}),Object(V.jsx)(k.a.Control,{name:"firstName",type:"text",placeholder:"Enter Name",defaultValue:this.props.user.firstName})]}),Object(V.jsxs)(k.a.Group,{controlId:"lastName",children:[Object(V.jsx)(k.a.Label,{children:"Last Name"}),Object(V.jsx)(k.a.Control,{name:"lastName",type:"text",placeholder:"Last Name",defaultValue:this.props.user.lastName})]}),Object(V.jsxs)(k.a.Group,{controlId:"genre",children:[Object(V.jsx)(k.a.Label,{children:"Genre"}),Object(V.jsx)(k.a.Control,{name:"genre",type:"text",placeholder:"Genre",defaultValue:this.props.user.genre})]}),Object(V.jsxs)(k.a.Group,{controlId:"instrument",children:[Object(V.jsx)(k.a.Label,{children:"Instrument"}),Object(V.jsx)(k.a.Control,{name:"instrument",type:"text",placeholder:"Instrument",defaultValue:this.props.user.instrument})]}),Object(V.jsxs)(k.a.Group,{controlId:"location",children:[Object(V.jsx)(k.a.Label,{children:"Location"}),Object(V.jsx)(k.a.Control,{name:"location",type:"text",placeholder:"Location",defaultValue:this.props.user.location})]}),Object(V.jsxs)(k.a.Group,{controlId:"bandName",children:[Object(V.jsx)(k.a.Label,{children:"Band"}),Object(V.jsx)(k.a.Control,{name:"bandName",type:"text",placeholder:"Band",defaultValue:this.props.user.bandName})]}),Object(V.jsxs)(k.a.Group,{controlId:"aboutMe",children:[Object(V.jsx)(k.a.Label,{children:"About Me"}),Object(V.jsx)(k.a.Control,{name:"aboutMe",type:"text",placeholder:"About me",defaultValue:this.props.user.aboutMe})]}),Object(V.jsx)(I.a,{className:"button",type:"submit",children:"Submit"})]})]}):null}}]),a}(n.Component),W=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.user;return e?Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{children:"Edit Owner Profile"}),Object(V.jsxs)(k.a,{onSubmit:this.props.onEdit,children:[Object(V.jsxs)(k.a.Group,{controlId:"firstName",children:[Object(V.jsx)(k.a.Label,{children:"First Name"}),Object(V.jsx)(k.a.Control,{name:"firstName",type:"text",placeholder:"Enter Name",defaultValue:e.firstName})]}),Object(V.jsxs)(k.a.Group,{controlId:"lastName",children:[Object(V.jsx)(k.a.Label,{children:"Last Name"}),Object(V.jsx)(k.a.Control,{name:"lastName",type:"text",placeholder:"Last Name",defaultValue:e.lastName})]}),Object(V.jsx)(I.a,{className:"button",type:"submit",children:"Submit"})]})]}):null}}]),a}(n.Component),Y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.onAdd;return Object(V.jsx)("div",{children:Object(V.jsxs)(k.a,{onSubmit:e,children:[Object(V.jsxs)(k.a.Group,{controlId:"title",children:[Object(V.jsx)(k.a.Label,{children:"Title"}),Object(V.jsx)(k.a.Control,{name:"title",type:"text",placeholder:"Enter title"})]}),Object(V.jsxs)(k.a.Group,{controlId:"location",children:[Object(V.jsx)(k.a.Label,{children:"Location"}),Object(V.jsx)(k.a.Control,{name:"location",type:"text",placeholder:"Location"})]}),Object(V.jsxs)(k.a.Group,{controlId:"size",children:[Object(V.jsx)(k.a.Label,{children:"Size"}),Object(V.jsx)(k.a.Control,{name:"size",type:"text",placeholder:"Size (m^2)"})]}),Object(V.jsx)(I.a,{className:"button",type:"submit",children:"Submit"})]})})}}]),a}(n.Component),K=a(76),Q=a.n(K),X=a(106),Z="localhost:5005/";var $=function(){var e=Object(n.useState)(!1),t=Object(C.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(C.a)(s,2),i=r[0],l=r[1],u=Object(n.useState)(""),j=Object(C.a)(u,2),d=j[0],h=j[1],b=Object(n.useState)(""),O=Object(C.a)(b,2),m=O[0],x=O[1],f=Object(n.useState)([]),v=Object(C.a)(f,2),g=v[0],y=v[1];Object(n.useEffect)((function(){F=p()(Z)}),[Z]),Object(n.useEffect)((function(){F.on("receive_message",(function(e){y([].concat(Object(o.a)(g),[e]))}))}));var S=function(){var e=Object(X.a)(Q.a.mark((function e(){var t;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={room:i,content:{author:d,message:m}},e.next=3,F.emit("send_message",t);case 3:y([].concat(Object(o.a)(g),[t.content])),x("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(V.jsx)("div",{className:"App",children:a?Object(V.jsxs)("div",{className:"chatContainer",children:[Object(V.jsx)("div",{className:"messages",children:g.map((function(e,t){return Object(V.jsx)("div",{className:"messageContainer",id:e.author===d?"You":"Other",children:Object(V.jsxs)("div",{className:"messageIndividual",children:[e.author,": ",e.message]})},t)}))}),Object(V.jsxs)("div",{className:"messageInputs",children:[Object(V.jsx)("input",{type:"text",placeholder:"Message...",value:m,onChange:function(e){x(e.target.value)}}),Object(V.jsx)("button",{onClick:S,children:"Send"})]})]}):Object(V.jsxs)("div",{className:"logIn",children:[Object(V.jsxs)("div",{className:"inputs",children:[Object(V.jsx)("input",{type:"text",placeholder:"Name...",onChange:function(e){h(e.target.value)}}),Object(V.jsx)("input",{type:"text",placeholder:"Room...",onChange:function(e){l(e.target.value)}})]}),Object(V.jsx)("button",{onClick:function(){c(!0),F.emit("join_room",i)},children:"Enter Chat"})]})})};var ee=function(){},te=a(175),ae=a(103),ne=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={venue:null,showButton1:!1,showButton2:!1,showButton3:!1,image:[],imgUrl:null},e.handleAddImg=function(t){t.preventDefault(),e.state.imgUrl&&e.setState({image:[].concat(Object(o.a)(e.state.image),[e.state.imgUrl])})},e.handleImgChange=function(t){var a=t.target.value;e.setState({imgUrl:a})},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.venueId;x.a.get("".concat(f,"/api/venue/").concat(t)).then((function(t){console.log("venue-----",t.data),e.setState({venue:t.data,image:t.data.imgUrl})})).catch((function(e){console.log("get venue failed",e)}))}},{key:"render",value:function(){var e=this;console.log("------",this.state.image);var t=this.state,a=t.venue,n=t.image;return a?Object(V.jsx)("div",{children:Object(V.jsxs)(k.a,{onSubmit:function(t){e.props.onEdit(t,a._id,n)},children:[Object(V.jsxs)(k.a.Group,{controlId:"title",children:[Object(V.jsx)(k.a.Label,{children:"Title"}),Object(V.jsx)(k.a.Control,{name:"title",type:"text",placeholder:"Enter title",defaultValue:a.title})]}),Object(V.jsxs)(k.a.Group,{controlId:"location",children:[Object(V.jsx)(k.a.Label,{children:"Location"}),Object(V.jsx)(k.a.Control,{name:"location",type:"text",placeholder:"Location",defaultValue:a.location})]}),Object(V.jsxs)(k.a.Group,{controlId:"size",children:[Object(V.jsx)(k.a.Label,{children:"Size"}),Object(V.jsx)(k.a.Control,{name:"size",type:"text",placeholder:"Size (m^2)",defaultValue:a.size})]}),Object(V.jsx)(k.a.Label,{children:"Image Url"}),Object(V.jsxs)(te.a,{className:"mb-3",children:[Object(V.jsx)(ae.a,{placeholder:"image url","aria-describedby":"basic-addon2",name:"imgUrl",onChange:this.handleImgChange}),Object(V.jsx)(te.a.Append,{children:Object(V.jsx)(I.a,{onClick:this.handleAddImg,variant:"outline-secondary",children:"Add image"})})]}),Object(V.jsx)(I.a,{className:"button",type:"submit",children:"Submit"})]})}):null}}]),a}(n.Component),ce=(a(167),a(179)),se=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={venue:null},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.venueId;x.a.get("".concat(f,"/api/venue/").concat(t)).then((function(t){console.log("venue-id-------",t.data),e.setState({venue:t.data})})).catch((function(e){console.log("get venue failed",e)}))}},{key:"render",value:function(){var e=this,t=this.state.venue;return t?Object(V.jsxs)("div",{className:"venue-box",children:[Object(V.jsx)(ce.a,{children:t.imgUrl.map((function(e){return Object(V.jsx)(ce.a.Item,{children:Object(V.jsx)("img",{src:e,alt:"slide ".concat(t.imgUrl.indexOf(e))})})}))}),Object(V.jsx)("div",{children:t.title}),Object(V.jsxs)("div",{children:["Location: ",t.location]}),Object(V.jsxs)("div",{children:["Size: ",t.size,"m",Object(V.jsx)("sup",{children:"2"})]}),Object(V.jsxs)("div",{className:"buttons",children:[Object(V.jsx)(I.a,{className:"button",as:N.b,to:"/venue/".concat(t._id,"/edit"),children:"Edit"}),Object(V.jsx)(I.a,{className:"button",onClick:function(){e.props.onDelete(t._id)},children:"Delete"})]})]}):null}}]),a}(n.Component),re=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={user:null},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("musician prop-------",this.props);var t=this.props.match.params.musicianId;console.log(t),x.a.get("".concat(f,"/api/musician/").concat(t)).then((function(t){console.log("musician id-----",t.data),e.setState({user:t.data})})).catch((function(e){console.log("get musician failed",e)}))}},{key:"render",value:function(){var e=this.state.user;return e?Object(V.jsx)("div",{className:"profile-page",children:Object(V.jsxs)(D.a,{className:"card-style",style:{width:"18rem"},children:[Object(V.jsx)(D.a.Img,{variant:"top",src:e.imgUrl}),Object(V.jsxs)(D.a.Body,{children:[Object(V.jsxs)(D.a.Title,{children:[e.firstName," ",e.lastName]}),Object(V.jsx)(D.a.Subtitle,{className:"mb-2 text-muted",children:e.location}),Object(V.jsx)(D.a.Text,{children:e.aboutMe}),Object(V.jsx)(D.a.Text,{children:e.genre}),Object(V.jsx)(D.a.Text,{children:e.instrument}),Object(V.jsx)(D.a.Text,{children:e.bandName}),Object(V.jsx)(D.a.Link,{as:N.b,className:"edit-btn",to:"/chat",children:"Send a message"})]})]})}):null}}]),a}(n.Component),ie=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={venue:null},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("venue props=-------",this.props);var t=this.props.match.params.venueId;x.a.get("".concat(f,"/api/venuesDetails/").concat(t)).then((function(t){console.log("venue id-----",t.data),e.setState({venue:t.data})})).catch((function(e){console.log("get venue failed",e)}))}},{key:"render",value:function(){var e=this.state.venue;return e?Object(V.jsx)("div",{className:"profile-page",children:Object(V.jsxs)(D.a,{className:"card-style",style:{width:"18rem"},children:[Object(V.jsx)(D.a.Img,{variant:"top",src:e.imgUrl}),Object(V.jsxs)(D.a.Body,{children:[Object(V.jsx)(D.a.Title,{children:e.title}),Object(V.jsx)(D.a.Subtitle,{className:"mb-2 text-muted",children:e.location}),Object(V.jsx)(D.a.Text,{children:e.size}),Object(V.jsx)(D.a.Link,{className:"edit-btn",to:"/chat",children:"Send a message"})]})]})}):null}}]),a}(n.Component),oe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){return Object(V.jsx)("div",{children:Object(V.jsxs)(k.a,{className:"upload-form",onSubmit:this.props.onUpload,children:[Object(V.jsx)(k.a.Group,{controlId:"userImg",children:Object(V.jsx)(k.a.File,{name:"userImg",type:"file",label:"Upload picture"})}),Object(V.jsx)(I.a,{className:"button",type:"submit",children:"Submit"})]})})}}]),a}(n.Component),le=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={user:null,isMounted:!1,users:[],filteredUsers:[],venues:[],filteredVenues:[],instrument:[],genre:[],size:0,location:[],title:[]},e.handleEditMusician=function(t){t.preventDefault();var a=e.state,n=a.user,c=a.users,s={firstName:t.target.firstName.value,lastName:t.target.lastName.value,instrument:t.target.instrument.value,genre:t.target.genre.value,location:t.target.location.value,bandName:t.target.bandName.value,aboutMe:t.target.aboutMe.value};x.a.patch("".concat(f,"/api/musician-profile/").concat(n._id),s,{withCredentials:!0}).then((function(t){console.log("-----edit----",t.data);var a=c.map((function(e){return n._id===e._id&&(e=t.data),e}));e.setState({user:t.data,users:a,filteredUsers:a},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("Edit musician failed",e)}))},e.handleEditOwner=function(t){t.preventDefault();var a=e.state.user,n={firstName:t.target.firstName.value,lastName:t.target.lastName.value};x.a.patch("".concat(f,"/api/owner-profile/").concat(a._id),n,{withCredentials:!0}).then((function(t){e.setState({user:t.data},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("edit owner failed",e)}))},e.handleUploadImage=function(t){t.preventDefault();var a=e.state,n=a.user,c=a.users,s=t.target.userImg.files[0],r=new FormData;r.append("imageUrl",s),x.a.post("".concat(f,"/api/upload"),r).then((function(t){var a=t.data.image,s=n.type;x.a.patch("".concat(f,"/api/upload/").concat(n._id),{imgUrl:a,type:s},{withCredentials:!0}).then((function(t){console.log(t.data);var a=c.map((function(e){return n._id===e._id&&(e=t.data),e}));e.setState({user:t.data,users:a,filteredUsers:a},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("error uploading musician image ",e)}))})).catch((function(e){}))},e.handleSignUp=function(t){t.preventDefault();var a={email:t.target.email.value,password:t.target.password.value,type:t.target.type.value};x.a.post("".concat(f,"/api/signup"),a).then((function(a){console.log("all data",a),console.log("response.data",a.data),e.handleSignIn(t)})).catch((function(e){console.log("error signUp",e)}))},e.handleSignIn=function(t){t.preventDefault();var a={email:t.target.email.value,password:t.target.password.value};x.a.post("".concat(f,"/api/signin"),a,{withCredentials:!0}).then((function(t){console.log("Succesfully signed in --------",t.data),e.setState({user:t.data},(function(){e.props.history.push("/home")}))})).catch((function(e){console.log("error signUp",e)}))},e.handleSignOut=function(){x.a.post("".concat(f,"/api/signout"),{},{withCredentials:!0}).then((function(){console.log("LOGOUT_____"),e.setState({user:null},(function(){e.props.history.push("/")}))})).catch((function(e){console.log(e)}))},e.onMusicianSearch=function(t){var a=t.target.name,n=t.target.value.split(" ");switch(a){case"instrument":e.setState({instrument:n},e.handleMusicianSearch);break;case"genre":e.setState({genre:n},e.handleMusicianSearch)}},e.handleMusicianSearch=function(){var t=e.state,a=t.instrument,n=t.genre,c=JSON.parse(JSON.stringify(e.state.users)).filter((function(e){if(!a.length)return!0;for(var t=0;t<a.length;t++){if(t>0&&!a[t])return!1;var n,c=Object(l.a)(e.instrument);try{for(c.s();!(n=c.n()).done;){if(n.value.toLowerCase().includes(a[t].toLowerCase()))return!0}}catch(s){c.e(s)}finally{c.f()}}}));c=c.filter((function(e){if(!n.length)return!0;for(var t=0;t<n.length;t++){if(t>0&&!n[t])return!1;var a,c=Object(l.a)(e.genre);try{for(c.s();!(a=c.n()).done;){if(a.value.toLowerCase().includes(n[t].toLowerCase()))return!0}}catch(s){c.e(s)}finally{c.f()}}})),e.setState({filteredUsers:c})},e.onVenueSearch=function(t){var a=t.target.name,n=t.target.value.split(" ");switch(a){case"size":e.setState({size:n[0]},e.handleVenueSearch);break;case"location":e.setState({location:n},e.handleVenueSearch);break;case"title":e.setState({title:n},e.handleVenueSearch)}},e.handleVenueSearch=function(){var t=JSON.parse(JSON.stringify(e.state.venues)),a=e.state,n=a.size,c=a.location,s=a.title,r=t.filter((function(e){return!Number(n)||Number(n)&&e.size<=n}));r=(r=r.filter((function(e){if(!c.length)return!0;for(var t=0;t<c.length;t++){if(t>0&&!c[t])return!1;if(e.location.toLowerCase().includes(c[t].toLowerCase()))return!0}}))).filter((function(e){if(!s.length)return!0;for(var t=0;t<s.length;t++){if(t>0&&!s[t])return!1;if(e.title.toLowerCase().includes(s[t].toLowerCase()))return!0}})),e.setState({filteredVenues:r})},e.handleAddVenue=function(t){t.preventDefault();var a=e.state.user,n=t.target,c=n.title,s=n.location,r=n.size,i=(n.imgUrl,{title:c.value,location:s.value,size:r.value,ownerId:a._id,imgUrl:[]});x.a.post("".concat(f,"/api/add-venue"),i).then((function(t){console.log(t.data),e.setState({venues:[].concat(Object(o.a)(e.state.venues),[t.data]),filteredVenues:[].concat(Object(o.a)(e.state.venues),[t.data])},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log(e)}))},e.handleEditVenue=function(t,a,n){t.preventDefault();var c=e.state.venues,s=t.target,r=s.title,i=s.location,o=s.size,l={title:r.value,location:i.value,size:o.value,imgUrl:n};x.a.patch("".concat(f,"/api/venue/").concat(a),l,{withCredentials:!0}).then((function(t){console.log("venue edited: ",t.data);var n=c.map((function(e){return e._id===a&&(e=t.data),e}));e.setState({venues:n,filteredVenues:n},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("venue edit failed",e)}))},e.handleDeleteVenue=function(t){var a=e.state.venues,n=JSON.parse(JSON.stringify(a));x.a.delete("".concat(f,"/api/venue/").concat(t)).then((function(a){var c=n.filter((function(e){return e._id!==t}));e.setState({venues:c,filteredVenues:c},(function(){e.props.history.push("/profile")}))})).catch((function(e){console.log("venue deletion failed",e)}))},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.state.user),x.a.get("".concat(f,"/api/users")).then((function(t){e.setState({users:t.data,filteredUsers:t.data})})).catch((function(){console.log("fetching users failed")})),x.a.get("".concat(f,"/api/venues")).then((function(t){e.setState({venues:t.data,filteredVenues:t.data})})).catch((function(){console.log("fetching venues failed")})),this.state.user||x.a.get("".concat(f,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({user:t.data})})).catch((function(e){console.log("error gettin logged in user-----",e)})),this.setState({isMounted:!0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=(t.users,t.filteredUsers),c=t.venues,s=t.filteredVenues;return this.state.isMounted?Object(V.jsxs)("div",{className:"App",children:[Object(V.jsx)(M,{user:a,onSignUp:this.handleSignUp,onSignIn:this.handleSignIn,onSignOut:this.handleSignOut}),Object(V.jsx)("div",{children:Object(V.jsxs)(O.c,{children:[Object(V.jsx)(O.a,{exact:!0,path:"/",render:function(e){return Object(V.jsx)(_,Object(i.a)({},e))}}),Object(V.jsx)(O.a,{path:"/home",render:function(e){return Object(V.jsx)(z,Object(i.a)(Object(i.a)({},e),{},{user:a}))}}),Object(V.jsx)(O.a,{path:"/search/musicians",render:function(t){return Object(V.jsx)(A,Object(i.a)({user:a,filteredUsers:n,onSearch:e.onMusicianSearch},t))}}),Object(V.jsx)(O.a,{path:"/search/venues",render:function(t){return Object(V.jsx)(P,Object(i.a)({user:a,filteredVenues:s,onSearch:e.onVenueSearch},t))}}),Object(V.jsx)(O.a,{exact:!0,path:"/profile",render:function(e){return Object(V.jsx)(H,Object(i.a)({user:a,venues:c},e))}}),Object(V.jsx)(O.a,{path:"/upload-image",render:function(t){return Object(V.jsx)(oe,Object(i.a)(Object(i.a)({},t),{},{user:a,onUpload:e.handleUploadImage}))}}),Object(V.jsx)(O.a,{exact:!0,path:"/musician-profile/edit",render:function(t){return Object(V.jsx)(R,Object(i.a)(Object(i.a)({user:a,onImageUpload:e.handleUploadImage},t),{},{onEdit:e.handleEditMusician}))}}),Object(V.jsx)(O.a,{exact:!0,path:"/musician/:musicianId",render:function(e){return Object(V.jsx)(re,Object(i.a)({},e))}}),Object(V.jsx)(O.a,{exact:!0,path:"/owner-profile/edit",render:function(t){return Object(V.jsx)(W,Object(i.a)(Object(i.a)({user:a},t),{},{onEdit:e.handleEditOwner}))}}),Object(V.jsx)(O.a,{path:"/add-venue",render:function(t){return Object(V.jsx)(Y,Object(i.a)(Object(i.a)({},t),{},{onAdd:e.handleAddVenue}))}}),Object(V.jsx)(O.a,{exact:!0,path:"/venue/:venueId",render:function(t){return Object(V.jsx)(se,Object(i.a)(Object(i.a)({},t),{},{onDelete:e.handleDeleteVenue}))}}),Object(V.jsx)(O.a,{path:"/chat",component:$}),Object(V.jsx)(O.a,{path:"/join",component:ee}),Object(V.jsx)(O.a,{path:"/venue/:venueId/edit",render:function(t){return Object(V.jsx)(ne,Object(i.a)(Object(i.a)({},t),{},{onEdit:e.handleEditVenue}))}}),Object(V.jsx)(O.a,{exact:!0,path:"/venuesDetails/:venueId",render:function(e){return Object(V.jsx)(ie,Object(i.a)({},e))}}),Object(V.jsx)(O.a,{path:"/chat",component:$})]})})]}):null}}]),a}(n.Component),ue=Object(O.f)(le);r.a.render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(N.a,{children:Object(V.jsx)(ue,{})})}),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.57f9d0e6.chunk.js.map